"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _slicedToArray=function(){function t(t,e){var a=[],n=!0,i=!1,r=void 0;try{for(var c=t[Symbol.iterator](),l;!(n=(l=c.next()).done)&&(a.push(l.value),!e||a.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw r}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}();(function(){var t,e,a,n,i,r,c;t={flat:-1,natural:0,sharp:1},i={major:0,minor:1,diminished:2,augmented:3},a={pitch:0,acc:0,type:0},n="C D EF G A B",e="b #",r=["","m","dim","+"],c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),"string"==typeof e)return t.fromSymbol(e);this.pitch=e.pitch,this.acc=e.acc,this.type=e.type,null==this.pitch&&(this.pitch=a.pitch),null==this.acc&&(this.acc=a.acc),null==this.type&&(this.type=a.type)}return _createClass(t,[{key:"rootName",value:function t(){return""+this.baseName()+this.accidentalSign()}},{key:"baseName",value:function t(){return n.charAt(this.pitch-this.acc)}},{key:"accidentalSign",value:function t(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))switch(this.acc){case-1:return"b";case 1:return"#";default:return""}}},{key:"typeName",value:function t(){return r[this.type]}},{key:"toSymbol",value:function t(){return""+this.rootName()+this.typeName()}},{key:"toHTML",value:function t(){var e,a,n,i,r,c,l,o;return i=this.baseName(),e=this.accidentalSign(),a=this.accidentalSign(!0),l=this.typeName(),r='<data class="root" value="'+i+'">'+i+"</data>",n=""!==e?'<data class="acc" value="'+e+'">'+e+"</data>":"",o=""!==l?'<data class="triad" value="'+l+'">'+l+"</data>":"",c=[r,n,o].filter(function(t){return""!==t}),'<span class="piece">\n\t'+c.join("\n\t")+"\n</span>"}}],[{key:"fromSymbol",value:function a(i){var c,l,o,u,s,h,f,y;if(h=/^([CDEFGAB])([b\#]?)(\+|m|dim)?$/,h.test(i)){var d=i.match(h),p=_slicedToArray(d,4);return o=p[0],s=p[1],l=p[2],f=p[3],c=""!==l?e.indexOf(l)-1:0,u=n.indexOf(s)+c,y=void 0!==f?r.indexOf(f):0,new t({pitch:u,acc:c,type:y})}}}]),t}(),window.Triad=c}).call(void 0);